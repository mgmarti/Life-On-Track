{"ast":null,"code":"import _slicedToArray from \"/Users/juansebastiandelgadorincon/Desktop/22-Stu_Mini_Project/Solved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/juansebastiandelgadorincon/Desktop/22-Stu_Mini_Project/Solved/client/src/pages/Detail.js\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport { useStoreContext } from \"../utils/GlobalState\";\nimport { SET_CURRENT_POST, ADD_FAVORITE, REMOVE_FAVORITE } from \"../utils/actions\";\n\nvar Detail = function Detail(props) {\n  var _useStoreContext = useStoreContext(),\n      _useStoreContext2 = _slicedToArray(_useStoreContext, 2),\n      state = _useStoreContext2[0],\n      dispatch = _useStoreContext2[1];\n\n  useEffect(function () {\n    API.getPost(props.match.params.id).then(function (res) {\n      return dispatch({\n        type: SET_CURRENT_POST,\n        post: res.data\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, []);\n\n  var addFavorite = function addFavorite() {\n    dispatch({\n      type: ADD_FAVORITE,\n      post: state.currentPost\n    });\n  };\n\n  var removeFavorite = function removeFavorite() {\n    dispatch({\n      type: REMOVE_FAVORITE,\n      _id: state.currentPost._id\n    });\n  };\n\n  return React.createElement(React.Fragment, null, state.currentPost ? React.createElement(Container, {\n    fluid: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Col, {\n    size: \"md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Jumbotron, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, state.currentPost.title, \" by \", state.currentPost.author)))), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Col, {\n    size: \"md-10 md-offset-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"article\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Content:\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, state.currentPost.body))), state.favorites.indexOf(state.currentPost) !== -1 ? React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: removeFavorite,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Remove from Favorites!\") : React.createElement(\"button\", {\n    className: \"btn\",\n    onClick: addFavorite,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"\\u2764\\uFE0F Add to Favorites\")), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Col, {\n    size: \"md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"\\u2190 Back to Posts\")))) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"loading...\"));\n};\n\nexport default Detail;","map":{"version":3,"sources":["/Users/juansebastiandelgadorincon/Desktop/22-Stu_Mini_Project/Solved/client/src/pages/Detail.js"],"names":["React","useEffect","Link","Col","Row","Container","Jumbotron","API","useStoreContext","SET_CURRENT_POST","ADD_FAVORITE","REMOVE_FAVORITE","Detail","props","state","dispatch","getPost","match","params","id","then","res","type","post","data","catch","err","console","log","addFavorite","currentPost","removeFavorite","_id","title","author","body","favorites","indexOf"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,QAAoC,oBAApC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAASC,gBAAT,EAA2BC,YAA3B,EAAyCC,eAAzC,QAAgE,kBAAhE;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK,EAAI;AAAA,yBACIL,eAAe,EADnB;AAAA;AAAA,MACfM,KADe;AAAA,MACRC,QADQ;;AAGtBd,EAAAA,SAAS,CAAC,YAAM;AACdM,IAAAA,GAAG,CAACS,OAAJ,CAAYH,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBC,EAA/B,EACGC,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIN,QAAQ,CAAC;AAAEO,QAAAA,IAAI,EAAEb,gBAAR;AAA0Bc,QAAAA,IAAI,EAAEF,GAAG,CAACG;AAApC,OAAD,CAAZ;AAAA,KADX,EAEGC,KAFH,CAES,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,KAFZ;AAGD,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAMG,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBd,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAEZ,YADC;AAEPa,MAAAA,IAAI,EAAET,KAAK,CAACgB;AAFL,KAAD,CAAR;AAID,GALD;;AAOA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3BhB,IAAAA,QAAQ,CAAC;AACPO,MAAAA,IAAI,EAAEX,eADC;AAEPqB,MAAAA,GAAG,EAAElB,KAAK,CAACgB,WAAN,CAAkBE;AAFhB,KAAD,CAAR;AAID,GALD;;AAOA,SACE,0CAAGlB,KAAK,CAACgB,WAAN,GACD,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAK,IAAA,IAAI,EAAC,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhB,KAAK,CAACgB,WAAN,CAAkBG,KADrB,UACgCnB,KAAK,CAACgB,WAAN,CAAkBI,MADlD,CADF,CADF,CADF,CADF,EAUE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAK,IAAA,IAAI,EAAC,mBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIpB,KAAK,CAACgB,WAAN,CAAkBK,IAAtB,CAFF,CADF,CADF,EAOGrB,KAAK,CAACsB,SAAN,CAAgBC,OAAhB,CAAwBvB,KAAK,CAACgB,WAA9B,MAA+C,CAAC,CAAhD,GACC;AAAQ,IAAA,SAAS,EAAC,gBAAlB;AAAmC,IAAA,OAAO,EAAEC,cAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADD,GAKC;AAAQ,IAAA,SAAS,EAAC,KAAlB;AAAwB,IAAA,OAAO,EAAEF,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAZJ,CAVF,EA2BE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAK,IAAA,IAAI,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CADF,CA3BF,CADC,GAmCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnCF,CADF;AAuCD,CA9DD;;AAgEA,eAAejB,MAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport { useStoreContext } from \"../utils/GlobalState\";\nimport { SET_CURRENT_POST, ADD_FAVORITE, REMOVE_FAVORITE } from \"../utils/actions\";\n\nconst Detail = props => {\n  const [state, dispatch] = useStoreContext();\n\n  useEffect(() => {\n    API.getPost(props.match.params.id)\n      .then(res => dispatch({ type: SET_CURRENT_POST, post: res.data }))\n      .catch(err => console.log(err));\n  }, []);\n\n  const addFavorite = () => {\n    dispatch({\n      type: ADD_FAVORITE,\n      post: state.currentPost\n    });\n  };\n\n  const removeFavorite = () => {\n    dispatch({\n      type: REMOVE_FAVORITE,\n      _id: state.currentPost._id\n    });\n  };\n\n  return (\n    <>{state.currentPost ? (\n      <Container fluid>\n        <Row>\n          <Col size=\"md-12\">\n            <Jumbotron>\n              <h1>\n                {state.currentPost.title} by {state.currentPost.author}\n              </h1>\n            </Jumbotron>\n          </Col>\n        </Row>\n        <Row>\n          <Col size=\"md-10 md-offset-1\">\n            <article>\n              <h1>Content:</h1>\n              <p>{state.currentPost.body}</p>\n            </article>\n          </Col>\n          {state.favorites.indexOf(state.currentPost) !== -1 ? (\n            <button className=\"btn btn-danger\" onClick={removeFavorite}>\n                Remove from Favorites!\n            </button>\n          ) : (\n            <button className=\"btn\" onClick={addFavorite}>\n                ❤️ Add to Favorites\n            </button>\n          )}\n        </Row>\n        <Row>\n          <Col size=\"md-2\">\n            <Link to=\"/\">← Back to Posts</Link>\n          </Col>\n        </Row>\n      </Container>\n    ) : (\n      <div>loading...</div>\n    )}</>\n  );\n};\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}